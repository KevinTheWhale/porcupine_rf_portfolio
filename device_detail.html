{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>{{ device.model }} â€“ Device Detail | Porcupine RF</title>
    <link href="https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-image: url("/media/site_backgrounds/website_background4.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            color: white;
        }

        .top-bar {
            display: flex;
            align-items: center;
            padding: 30px;
            gap: 30px;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
            margin: 0 auto;
        }

        .nav-buttons a {
            padding: 10px 20px;
            border-radius: 9999px;
            background-color: #333;
            color: white;
            text-decoration: none;
            position: relative;
            transition: color 0.3s ease, border 0.3s ease, box-shadow 0.3s ease;
            border: 2px solid transparent;
            overflow: hidden;
        }

        .nav-buttons a span {
            display: inline-block;
            transition: color 0.3s ease;
            font-family: 'Saira Condensed', sans-serif;
        }

        .nav-buttons a:hover {
            border: 1px solid skyblue;
            box-shadow: 0 0 8px skyblue;
        }

        .nav-buttons a:hover span,
        .nav-buttons a.active span {
            color: skyblue;
            text-decoration: underline;
            text-decoration-color: skyblue;
            text-decoration-thickness: 1px;
            text-underline-offset: 6px;
        }

        .content {
            padding: 40px;
            background-color: rgba(0, 0, 0, 0.6);
            border-radius: 10px;
            max-width: 1000px;
            margin: 40px auto;
        }

        .spec-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .spec-table th, .spec-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ccc;
            background-color: rgba(255,255,255,0.05);
        }

        thead tr {
            background-color: black;
            color: white;
        }

        tbody tr {
            background-color: white;
            color: black;
        }

        tbody tr:not(:last-child) {
            border-bottom: 1px solid black;
        }

        .split-container {
            display: flex;
            gap: 40px;
            margin-top: 40px;
            flex-wrap: wrap;
        }

        .split-left, .split-right {
            flex: 1;
            min-width: 300px;
        }

        .device-img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .description, .features {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
        }

        .features button {
            margin-top: 20px;
            padding: 10px 20px;
            border-radius: 9999px;
            background-color: skyblue;
            color: black;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .features button:hover {
            background-color: deepskyblue;
        }

        /* ECG logo styles */
        .logo-svg {
            height: 84px;
            width: auto;
        }
        .wave-trail {
            stroke: url(#pulseGradient);
            stroke-width: 2;
            fill: none;
        }
        .wave-stroke {
            stroke: skyblue;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 2000;
            stroke-dashoffset: 2000;
            animation: ecgPulse 3.5s infinite linear;
        }
        @keyframes ecgPulse {
            0%   { stroke-dashoffset: 2000; opacity: 0; }
            10%  { opacity: 1; }
            80%  { stroke-dashoffset: 0; opacity: 1; }
            100% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="top-bar">

        <!-- ONE continuous logo+ECG animation -->
        <svg class="brand-banner" viewBox="0 0 1040 84" preserveAspectRatio="none">
            <defs>
                <linearGradient id="pulseGradient" x1="0" y1="0" x2="1040" y2="0">
                    <stop offset="0%"   stop-color="skyblue" stop-opacity="0.12"/>
                    <stop offset="50%"  stop-color="skyblue" stop-opacity="0.55"/>
                    <stop offset="100%" stop-color="skyblue" stop-opacity="0.12"/>
                </linearGradient>
            </defs>

            <!--Larger clickable brand-->
            <a href="/" class="svg-link" aria-label="Go to homepage">
                <text x="45" y="43" fill="white"
                      font-family="Saira Condensed, sans-serif"
                      font-weight="800" font-size="61">Porcupine</text>
            </a>

            <!-- Subtitle stretched so "Inc." ends at the end of the second square wave.
                 Square wave 2 ends at x=312; starting at x=45 -> textLength = 312 - 45 = 267 -->
            <text x="45" y="70" fill="#cfe8ff"
                  font-family="Arial, sans-serif" font-size="14"
                  lengthAdjust="spacingAndGlyphs" textLength="320">
                RF &amp; Microwave Innovations Inc.
            </text>

          <!-- Continuous path: flat underline -> two square waves (peaks now at y=6) -> flowing ECG -->
            <!-- Baseline: y=50 -->
            <!-- Continuous path: thinner square waves -->
    <path id="fullPath" class="wave-trail" d="
    M0 50 L300 50                 <!-- flat line under 'Porcupine' -->
    L300 6 L324 6 L324 50         <!-- first square wave (thinner) -->
    L344 50                       <!-- short flat gap -->
    L344 6 L368 6 L368 50         <!-- second square wave (thinner) -->
    L438 50
    C450 50, 462 50, 474 50
    C476 30, 482 22, 488 50
    C492 68, 496 56, 500 50
    C514 50, 530 50, 546 50
    C548 34, 554 26, 560 50
    C564 70, 568 54, 572 50
    C586 50, 602 50, 618 50
    C620 38, 626 28, 632 50
    C636 66, 640 56, 644 50
    C658 50, 674 50, 690 50
    C692 36, 698 24, 704 50
    C708 66, 712 56, 716 50
    C730 50, 746 50, 762 50
    C764 34, 770 26, 776 50
    C780 68, 784 58, 788 50
    C802 50, 818 50, 834 50
    C836 36, 842 28, 848 50
    C852 68, 856 56, 860 50
    C876 50, 896 50, 1280 50" />

<path class="wave-stroke" d="
    M0 50 L300 50
    L300 6 L324 6 L324 50
    L344 50
    L344 6 L368 6 L368 50
    L438 50
    C450 50, 462 50, 474 50
    C476 30, 482 22, 488 50
    C492 68, 496 56, 500 50
    C514 50, 530 50, 546 50
    C548 34, 554 26, 560 50
    C564 70, 568 54, 572 50
    C586 50, 602 50, 618 50
    C620 38, 626 28, 632 50
    C636 66, 640 56, 644 50
    C658 50, 674 50, 690 50
    C692 36, 698 24, 704 50
    C708 66, 712 56, 716 50
    C730 50, 746 50, 762 50
    C764 34, 770 26, 776 50
    C780 68, 784 58, 788 50
    C802 50, 818 50, 834 50
    C836 36, 842 28, 848 50
    C852 68, 856 56, 860 50
    C876 50, 896 50, 1280 50" />
</svg>
        <div class="nav-buttons">
            <a href="{% url 'about' %}" class="{% if request.resolver_match.url_name == 'about' %}active{% endif %}">
                <span>About</span>
            </a>
            <a href="{% url 'product_list' %}" class="{% if '/products/' in request.path %}active{% endif %}">
                <span>Products</span>
            </a>
            <a href="/support/" class="{% if request.path == '/support/' %}active{% endif %}">
                <span>Sale/Support</span>
            </a>
        </div>
    </div>

    <div class="content">
        <h1>{{ device.model }}</h1>
        <table class="spec-table">
            <thead>
                <tr>
                    <th>Product<br>Type</th>
                    <th>Operate<br>Frequency<br>(MHz)</th>
                    <th>Pulse Format<br>/ Duty Factor</th>
                    <th>Pout<br>(W)</th>
                    <th>Power<br>Gain<br>(dB)</th>
                    <th>Typical<br>Efficiency<br>(%)</th>
                    <th>Vds<br>(V)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>{{ device.product_type|default:"N/A" }}</td>
                    <td>{{ device.operate_frequency|default:"N/A" }}</td>
                    <td>{{ device.pulse_format|default:"N/A" }}</td>
                    <td>{{ device.pout|default:"N/A" }}</td>
                    <td>{{ device.power_gain|default:"N/A" }}</td>
                    <td>{{ device.typical_efficiency|default:"N/A" }}</td>
                    <td>{{ device.vds|default:"N/A" }}</td>
                </tr>
            </tbody>
        </table>

        <div class="split-container">
            <div class="split-left">
                {% if device.image %}
                    <img src="{{ device.image.url }}" alt="{{ device.model }} Image" class="device-img">
                {% endif %}
                <div class="description">
                    <h3>Description</h3>
                    <p>{{ device.description }}</p>
                </div>
            </div>
            <div class="split-right">
                <div class="features">
                    <h3>Features</h3>
                    <p>{{ device.features|linebreaks }}</p>
                    {% if device.datasheet %}
                        <a href="{{ device.datasheet.url }}" target="_blank">
                            <button>View Datasheet</button>
                        </a>
                    {% else %}
                        <p><em>No datasheet available for this product.</em></p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    {% include 'catalog/footer.html' %}
</body>
</html>